<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <title>YouTube Keres≈ë</title>
    <style>
        body { font-family: Arial; max-width: 700px; margin: 40px auto; }
        input { width: 80%; padding: 10px; font-size: 18px; }
        button { padding: 10px 15px; font-size: 18px; }
        .result { margin-top: 20px; }
        .video {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #ccc;
        }
    </style>
</head>
<body>

<h1>YouTube keres≈ë</h1>

<input id="query" type="text" placeholder="Keres≈ë kifejez√©s...">
<button onclick="searchYouTube()">Keres√©s</button>

<div id="results" class="result"></div>

<script>
async function searchYouTube() {
    const query = document.getElementById("query").value;
    const resultsDiv = document.getElementById("results");
    resultsDiv.innerHTML = "<p>Keres√©s folyamatban...</p>";


    const api = "AIzaSyAvqcZuWfXHENDGZOhjSKoKyaZe4xGtTVM";
    // üî• FONTOS: Mostant√≥l a saj√°t szervered h√≠v√≥dik meg, nem a YouTube API k√∂zvetlen√ºl!
    const URL = `https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=3&q=${encodeURIComponent(query)}&key=${api}`;

    const response = await fetch(URL);
    
    const data = await response.json();

    console.log(data);
    console.log(data.items[0].id.videoId);
    resultsDiv.innerHTML = "";

    if (!data.items) {
        resultsDiv.innerHTML = "<p>Nincs tal√°lat vagy hiba t√∂rt√©nt.</p>";
        return;
    }

    data.items.forEach(item => {
        const videoId = item.id.videoId;
        const title = item.snippet.title;
        const thumb = item.snippet.thumbnails.medium.url;

        resultsDiv.innerHTML += `
            <div class="video">
                <h3>${title}</h3>
                <img src="${thumb}" /><br>
                <a href="https://www.youtube.com/watch?v=${videoId}" target="_blank">Megnyit√°s YouTube-on</a>
            </div>
        `;
    });
}
</script>

</body>
</html>